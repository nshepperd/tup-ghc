ifeq ($(HSROOT),)
  HSROOT=$(TUP_CWD)
endif

HCC=$(TUP_CWD)/hcc -i$(HSROOT) -i.
GHC_PACKAGE_PATH=`echo $(HSROOT)/sandbox/*-packages.conf.d`:`echo /usr/lib/ghc-*/package.conf.d`
SANDBOX_GHC=GHC_PACKAGE_PATH=$(GHC_PACKAGE_PATH) ghc
!ghc = |> ^o LINK %o^ LANG=en_AU.UTF-8 $(SANDBOX_GHC) -O2 -o %o %f |>
!ghcc = |> ^o GHC %B.o^ LANG=en_AU.UTF-8 $(SANDBOX_GHC) -O2 -c $(GFLAGS) %f |> %B.hi %B.o
